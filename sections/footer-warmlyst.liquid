{{ 'warmlyst-design-system.css' | asset_url | stylesheet_tag }}
{{ 'section-footer-warmlyst.css' | asset_url | stylesheet_tag }}
{{ 'component-newsletter.css' | asset_url | stylesheet_tag }}
{{ 'component-list-payment.css' | asset_url | stylesheet_tag }}
{{ 'component-list-social.css' | asset_url | stylesheet_tag }}

{%- style -%}
  .section-{{ section.id }}-padding {
    padding-top: {{ section.settings.padding_top | times: 0.75 | round: 0 }}px;
    padding-bottom: {{ section.settings.padding_bottom | times: 0.75 | round: 0 }}px;
  }

  @media screen and (min-width: 750px) {
    .section-{{ section.id }}-padding {
      padding-top: {{ section.settings.padding_top }}px;
      padding-bottom: {{ section.settings.padding_bottom }}px;
    }
  }
{%- endstyle -%}

{%- liquid
  assign has_social_icons = false
  if settings.social_facebook_link != blank or settings.social_instagram_link != blank or settings.social_youtube_link != blank or settings.social_tiktok_link != blank or settings.social_twitter_link != blank or settings.social_pinterest_link != blank
    assign has_social_icons = true
  endif
-%}

<footer class="footer-warmlyst section-{{ section.id }}-padding">
  {%- comment -%} TRUST BAR - Bande de r√©assurance {%- endcomment -%}
  {%- if section.settings.show_trust_bar -%}
    <div class="footer-trust-bar">
      <div class="container-default">
        <div class="trust-bar__grid">
          <div class="trust-bar__item">
            <div class="trust-bar__icon">
              {%- render 'icon-cocooning', name: 'delivery', size: 32 -%}
            </div>
            <div class="trust-bar__content">
              <h4 class="trust-bar__title">{{ section.settings.trust_1_title }}</h4>
              <p class="trust-bar__text">{{ section.settings.trust_1_text }}</p>
            </div>
          </div>

          <div class="trust-bar__item">
            <div class="trust-bar__icon">
              {%- render 'icon-cocooning', name: 'shield', size: 32 -%}
            </div>
            <div class="trust-bar__content">
              <h4 class="trust-bar__title">{{ section.settings.trust_2_title }}</h4>
              <p class="trust-bar__text">{{ section.settings.trust_2_text }}</p>
            </div>
          </div>

          <div class="trust-bar__item">
            <div class="trust-bar__icon">
              {%- render 'icon-cocooning', name: 'heart-warm', size: 32 -%}
            </div>
            <div class="trust-bar__content">
              <h4 class="trust-bar__title">{{ section.settings.trust_3_title }}</h4>
              <p class="trust-bar__text">{{ section.settings.trust_3_text }}</p>
            </div>
          </div>

          <div class="trust-bar__item">
            <div class="trust-bar__icon">
              {%- render 'icon-cocooning', name: 'eco-leaf', size: 32 -%}
            </div>
            <div class="trust-bar__content">
              <h4 class="trust-bar__title">{{ section.settings.trust_4_title }}</h4>
              <p class="trust-bar__text">{{ section.settings.trust_4_text }}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  {%- endif -%}

  {%- comment -%} MAIN FOOTER CONTENT {%- endcomment -%}
  <div class="footer-main">
    <div class="container-default">
      <div class="footer-grid">
        {%- comment -%} BLOCKS (Dynamic menu columns) {%- endcomment -%}
        {%- for block in section.blocks -%}
          <div class="footer-column" {{ block.shopify_attributes }}>
            {%- case block.type -%}
              {%- when 'link_list' -%}
                {%- if block.settings.heading != blank -%}
                  <h3 class="footer-column__title">{{ block.settings.heading }}</h3>
                {%- endif -%}
                {%- if block.settings.menu != blank -%}
                  <ul class="footer-menu">
                    {%- for link in block.settings.menu.links -%}
                      <li class="footer-menu__item">
                        <a href="{{ link.url }}" class="footer-menu__link">
                          {{ link.title | escape }}
                        </a>
                      </li>
                    {%- endfor -%}
                  </ul>
                {%- endif -%}

              {%- when 'text' -%}
                {%- if block.settings.heading != blank -%}
                  <h3 class="footer-column__title">{{ block.settings.heading }}</h3>
                {%- endif -%}
                {%- if block.settings.subtext != blank -%}
                  <div class="footer-text rte">
                    {{ block.settings.subtext }}
                  </div>
                {%- endif -%}

              {%- when 'newsletter' -%}
                <div class="footer-newsletter">
                  {%- if block.settings.heading != blank -%}
                    <h3 class="footer-column__title">{{ block.settings.heading }}</h3>
                  {%- endif -%}
                  {%- if block.settings.subtext != blank -%}
                    <p class="footer-newsletter__text">{{ block.settings.subtext }}</p>
                  {%- endif -%}

                  {%- form 'customer', class: 'footer-newsletter__form' -%}
                    <input type="hidden" name="contact[tags]" value="newsletter">
                    <div class="newsletter-form__field-wrapper">
                      <input
                        type="email"
                        name="contact[email]"
                        class="newsletter-form__input"
                        placeholder="{{ 'newsletter.placeholder' | t }}"
                        aria-label="{{ 'newsletter.placeholder' | t }}"
                        required
                      >
                      <button
                        type="submit"
                        class="newsletter-form__button btn-warmlyst btn-warmlyst--primary"
                        aria-label="{{ 'newsletter.button_label' | t }}"
                      >
                        {%- render 'icon-cocooning', name: 'chevron-right', size: 20 -%}
                      </button>
                    </div>
                    {%- if form.posted_successfully? -%}
                      <p class="newsletter-form__message newsletter-form__message--success">
                        {{ 'newsletter.success' | t }}
                      </p>
                    {%- endif -%}
                    {%- if form.errors -%}
                      <p class="newsletter-form__message newsletter-form__message--error">
                        {{ form.errors | default_errors }}
                      </p>
                    {%- endif -%}
                  {%- endform -%}
                </div>
            {%- endcase -%}
          </div>
        {%- endfor -%}
      </div>
    </div>
  </div>

  {%- comment -%} FOOTER BOTTOM {%- endcomment -%}
  <div class="footer-bottom">
    <div class="container-default">
      <div class="footer-bottom__grid">
        {%- comment -%} Social Icons {%- endcomment -%}
        {%- if has_social_icons and section.settings.show_social -%}
          <div class="footer-bottom__social">
            {%- render 'social-icons' -%}
          </div>
        {%- endif -%}

        {%- comment -%} Payment Icons {%- endcomment -%}
        {%- if section.settings.show_payment_icons -%}
          <div class="footer-bottom__payment">
            {%- unless shop.enabled_payment_types == empty -%}
              <ul class="list-payment" role="list">
                {%- for type in shop.enabled_payment_types -%}
                  <li class="list-payment__item">
                    {{ type | payment_type_svg_tag: class: 'icon icon--full-color' }}
                  </li>
                {%- endfor -%}
              </ul>
            {%- endunless -%}
          </div>
        {%- endif -%}

        {%- comment -%} Copyright {%- endcomment -%}
        <div class="footer-bottom__copyright">
          <p>
            &copy; {{ 'now' | date: '%Y' }} {{ shop.name | escape }}.
            {%- if section.settings.copyright_text != blank -%}
              {{ section.settings.copyright_text }}
            {%- else -%}
              {{ 'footer.copyright' | t }}
            {%- endif -%}
          </p>
        </div>
      </div>
    </div>
  </div>
</footer>

{% schema %}
{
  "name": "Footer Warmlyst",
  "tag": "footer",
  "class": "section-footer-warmlyst",
  "disabled_on": {
    "groups": ["header"]
  },
  "settings": [
    {
      "type": "header",
      "content": "üõ°Ô∏è Bande de r√©assurance"
    },
    {
      "type": "checkbox",
      "id": "show_trust_bar",
      "label": "Afficher la bande de r√©assurance",
      "default": true,
      "info": "4 badges de confiance au-dessus du footer"
    },
    {
      "type": "text",
      "id": "trust_1_title",
      "label": "Badge 1 - Titre",
      "default": "Livraison Gratuite"
    },
    {
      "type": "text",
      "id": "trust_1_text",
      "label": "Badge 1 - Texte",
      "default": "D√®s 50‚Ç¨ d'achat"
    },
    {
      "type": "text",
      "id": "trust_2_title",
      "label": "Badge 2 - Titre",
      "default": "Retours Gratuits"
    },
    {
      "type": "text",
      "id": "trust_2_text",
      "label": "Badge 2 - Texte",
      "default": "Sous 30 jours"
    },
    {
      "type": "text",
      "id": "trust_3_title",
      "label": "Badge 3 - Titre",
      "default": "Paiement S√©curis√©"
    },
    {
      "type": "text",
      "id": "trust_3_text",
      "label": "Badge 3 - Texte",
      "default": "CB, PayPal, Apple Pay"
    },
    {
      "type": "text",
      "id": "trust_4_title",
      "label": "Badge 4 - Titre",
      "default": "√âco-Responsable"
    },
    {
      "type": "text",
      "id": "trust_4_text",
      "label": "Badge 4 - Texte",
      "default": "Mat√©riaux durables"
    },
    {
      "type": "header",
      "content": "üëá Footer Bottom"
    },
    {
      "type": "checkbox",
      "id": "show_social",
      "label": "Afficher ic√¥nes r√©seaux sociaux",
      "default": true,
      "info": "Configurez vos liens sociaux dans les param√®tres du th√®me"
    },
    {
      "type": "checkbox",
      "id": "show_payment_icons",
      "label": "Afficher ic√¥nes de paiement",
      "default": true
    },
    {
      "type": "textarea",
      "id": "copyright_text",
      "label": "Texte copyright additionnel",
      "info": "S'affiche apr√®s l'ann√©e et le nom de la boutique"
    },
    {
      "type": "header",
      "content": "üìê Espacement"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Padding haut",
      "default": 0
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Padding bas",
      "default": 32
    }
  ],
  "blocks": [
    {
      "type": "link_list",
      "name": "Menu liens",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Titre de la colonne",
          "default": "√Ä propos"
        },
        {
          "type": "link_list",
          "id": "menu",
          "label": "Menu",
          "default": "footer",
          "info": "S√©lectionnez un menu dans Navigation"
        }
      ]
    },
    {
      "type": "text",
      "name": "Texte",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Titre",
          "default": "Notre boutique"
        },
        {
          "type": "richtext",
          "id": "subtext",
          "label": "Contenu",
          "default": "<p>Warmlyst, votre boutique d'accessoires d'hiver cocooning. Confort, chaleur et style pour des moments inoubliables.</p>"
        }
      ]
    },
    {
      "type": "newsletter",
      "name": "Newsletter",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Titre",
          "default": "Restez au chaud"
        },
        {
          "type": "textarea",
          "id": "subtext",
          "label": "Sous-titre",
          "default": "Recevez nos nouveaut√©s et offres exclusives"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Footer Warmlyst",
      "category": "WARMLYST",
      "settings": {
        "show_trust_bar": true,
        "trust_1_title": "Livraison Gratuite",
        "trust_1_text": "D√®s 50‚Ç¨ d'achat",
        "trust_2_title": "Retours Gratuits",
        "trust_2_text": "Sous 30 jours",
        "trust_3_title": "Paiement S√©curis√©",
        "trust_3_text": "CB, PayPal, Apple Pay",
        "trust_4_title": "√âco-Responsable",
        "trust_4_text": "Mat√©riaux durables",
        "show_social": true,
        "show_payment_icons": true,
        "padding_top": 0,
        "padding_bottom": 32
      },
      "blocks": [
        {
          "type": "link_list",
          "settings": {
            "heading": "√Ä propos",
            "menu": "footer"
          }
        },
        {
          "type": "link_list",
          "settings": {
            "heading": "Service client",
            "menu": "footer"
          }
        },
        {
          "type": "text",
          "settings": {
            "heading": "Notre boutique",
            "subtext": "<p>Warmlyst, votre boutique d'accessoires d'hiver cocooning.</p>"
          }
        },
        {
          "type": "newsletter",
          "settings": {
            "heading": "Restez au chaud",
            "subtext": "Recevez nos nouveaut√©s et offres exclusives"
          }
        }
      ]
    }
  ]
}
{% endschema %}
